
-- 사용자 계정 생성
CREATE USER C##ACCOUNT IDENTIFIED BY ACCOUNT;

-- 접속 권한 및 테이블 생성 권한 부여
GRANT CONNECT, RESOURCE TO C##ACCOUNT;

-- 테이블스페이스 설정
ALTER USER C##ACCOUNT DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;


DROP TABLE ENROLLMENT;
DROP TABLE STUDENT;
DROP TABLE LECTURE;
/*
[TEACHER 테이블]

TEACHER_ID : NUMBER – 기본키, 강사 고유번호, 
NAME : VARCHAR2 – 강사 이름, 
EMAIL : VARCHAR2 – 이메일 (UNIQUE 제약 조건 포함 가능)
HIRE_DATE : DATE – 입사일 (선택 항목), 
SUBJECT : VARCHAR2 – 전공 분야 (선택 항목)
*/
DROP TABLE TEACHER;
CREATE TABLE TEACHER(
    TEACHER_ID NUMBER CONSTRAINT TEACHER_PK PRIMARY KEY,
    TEACHER_NAME VARCHAR2(20), 
    EMAIL VARCHAR2(50) CONSTRAINT EMAIL_UQ UNIQUE,
    HIRE_DATE DATE,
    SUBJECT VARCHAR2(20)
);

INSERT INTO TEACHER VALUES
(101, '김주영', 'jy_kim@kh.ac.kr', '15/02/12', 'Java');
INSERT INTO TEACHER VALUES
(102, '서보원', 'bw_seo@kh.ac.kr', '05/04/12', 'C/C++');
INSERT INTO TEACHER VALUES
(103, '한인', 'in_han@kh.ac.kr', SYSDATE, 'Java');
INSERT INTO TEACHER VALUES
(104, '김민호', 'mh_kim@kh.ac.kr', '20/03/01', 'Python');
INSERT INTO TEACHER VALUES
(105, '김재훈', 'jh_kim@kh.ac.kr', '97/02/22', 'C/C++');
INSERT INTO TEACHER VALUES
(106, '문성미', 'sm_moon@kh.ac.kr', '15/12/28', 'SQL');
INSERT INTO TEACHER VALUES
(107, '황승욱', 'su_hwang@kh.ac.kr', '82/03/02', 'SQL');

/*
[LECTURE 테이블]
LECTURE_ID : NUMBER – 기본키, 강의 고유번호,
TITLE : VARCHAR2 – 강의 제목, 
TEACHER_ID : NUMBER – 외래키, 강의 담당 강사의 ID,
INDEX_COUNT : NUMBER 기본값 0 - 수강인원, 
CATEGORY : VARCHAR2 – 강의 분류 (예: Java, SQL) (선택 항목), 
START_DATE : DATE – 강의 시작일,
END_DATE : DATE – 강의 종료일 (선택 항목)
*/
CREATE TABLE LECTURE(
    LECTURE_ID NUMBER CONSTRAINT LECTURE_PK PRIMARY KEY,
    TITLE VARCHAR2(50),
    TEACHER_ID NUMBER REFERENCES TEACHER(TEACHER_ID),
    INDEX_COUNT NUMBER DEFAULT 0,
    CATEGORY VARCHAR2(20),
    START_DATE DATE,
    END_DATE DATE
);
INSERT INTO LECTURE VALUES
(1, '자바프로그래밍', 101, 2, 'Java', '25/03/03', '25/06/23');
INSERT INTO LECTURE VALUES
(2, '자바와 객체지향프로그래밍', 103, 9, 'Java', '25/03/03', '25/06/23');
INSERT INTO LECTURE VALUES
(3, 'C언어 기초', 102, 6, 'C/C++', '25/03/03', '25/06/23');
INSERT INTO LECTURE VALUES
(4, 'SW프로그래밍', 105, 9, 'C/C++', '25/03/03', '25/06/23');
INSERT INTO LECTURE VALUES
(5, '데이터베이스 실습', 106, 6, 'SQL', '25/03/03', '25/06/23');
INSERT INTO LECTURE VALUES
(6, '컴퓨팅사고 및 해결', 104, 6, 'Python', '25/03/03', '25/06/23');

/*
[STUDENT 테이블]
STUDENT_ID : NUMBER – 기본키, 수강생 고유번호, 
NAME : VARCHAR2 – 수강생 이름, 
GRADE : NUMBER – 학년 또는 수강 등급 (예: 1~4 등급)
EMAIL : VARCHAR2 – 수강생 이메일 (선택 항목), 
JOIN_DATE : DATE – 등록일 (선택 항목)
*/
CREATE TABLE STUDENT(
    STUDENT_ID NUMBER CONSTRAINT STUDENT_PK PRIMARY KEY,
    STUDENT_NAME VARCHAR2(20),
    GRADE NUMBER,
    EMAIL VARCHAR2(50),
    JOIN_DATE DATE
);
INSERT INTO STUDENT VALUES
(1001, '한종승', 1, NULL, SYSDATE);
INSERT INTO STUDENT VALUES
(1002, '곽규리', 1, NULL, SYSDATE);
INSERT INTO STUDENT VALUES
(1003, '이재범', 1, NULL, SYSDATE);
INSERT INTO STUDENT VALUES
(1004, '김보희', 1, NULL, SYSDATE);
INSERT INTO STUDENT VALUES
(1005, '정재우', 2, NULL, '24/02/11');
INSERT INTO STUDENT VALUES
(1006, '이신효', 3, NULL, '23/02/11');
INSERT INTO STUDENT VALUES
(1007, '권준하', 2, NULL, '24/02/11');
INSERT INTO STUDENT VALUES
(1008, '이승준', 1, NULL, SYSDATE);
INSERT INTO STUDENT VALUES
(1009, '사공부근', 4, NULL, '22/02/11');

/*
[ENROLLMENT 테이블]
ENROLL_ID : NUMBER – 기본키, 수강기록 고유번호, 
STUDENT_ID : NUMBER – 외래키, 수강생 ID, 
LECTURE_ID : NUMBER – 외래키, 강의 ID
ENROLL_DATE : DATE – 수강 등록일, 
STATUS : CHAR(1) – 수강 상태 (예: 'Y'=수강 중, 'N'=수강 종료), 
GRADE_SCORE : NUMBER – 성적 점수 (선택 항목, 예: 85점 등. NULL 가능)
*/
CREATE TABLE ENROLLMENT(
 ENROLL_ID NUMBER CONSTRAINT STUDENT PRIMARY KEY,
 STUDENT_ID NUMBER REFERENCES STUDENT(STUDENT_ID),
 LECTURE_ID NUMBER REFERENCES LECTURE(LECTURE_ID),
 ENROLL_DATE DATE,
 STATUS CHAR(1),
 GREADE_SCORE NUMBER
);
INSERT INTO ENROLLMENT VALUES
(1, 1001, 1, SYSDATE, 'Y', 77);
INSERT INTO ENROLLMENT VALUES
(2, 1001, 2, SYSDATE, 'Y', 42);
INSERT INTO ENROLLMENT VALUES
(3, 1001, 3, SYSDATE, 'N', 23);
INSERT INTO ENROLLMENT VALUES
(4, 1001, 4, SYSDATE, 'Y', 98);
INSERT INTO ENROLLMENT VALUES
(5, 1001, 5, SYSDATE, 'N', 67);
INSERT INTO ENROLLMENT VALUES
(6, 1002, 1, SYSDATE, 'N', 25);
INSERT INTO ENROLLMENT VALUES
(7, 1002, 3, SYSDATE, 'Y', 10);
INSERT INTO ENROLLMENT VALUES
(8, 1002, 5, SYSDATE, 'Y', 45);
INSERT INTO ENROLLMENT VALUES
(9, 1002, 6, SYSDATE, 'Y', 70);
INSERT INTO ENROLLMENT VALUES
(10, 1003, 1, SYSDATE, 'N', 43);
INSERT INTO ENROLLMENT VALUES
(11, 1003, 2, SYSDATE, 'Y', 34);
INSERT INTO ENROLLMENT VALUES
(12, 1003, 3, SYSDATE, 'N', 91);
INSERT INTO ENROLLMENT VALUES
(13, 1003, 5, SYSDATE, 'Y', 100);
INSERT INTO ENROLLMENT VALUES
(14, 1004, 1, SYSDATE, 'N', 24);
INSERT INTO ENROLLMENT VALUES
(15, 1004, 2, SYSDATE, 'Y', 78);
INSERT INTO ENROLLMENT VALUES
(16, 1004, 3, SYSDATE, 'Y', 78);
INSERT INTO ENROLLMENT VALUES
(17, 1004, 4, SYSDATE, 'Y', 87);
INSERT INTO ENROLLMENT VALUES
(18, 1004, 6, SYSDATE, 'Y', 98);
INSERT INTO ENROLLMENT VALUES
(19, 1005, 1, SYSDATE, 'Y', 85);
INSERT INTO ENROLLMENT VALUES
(20, 1005, 3, SYSDATE, 'Y', 59);
INSERT INTO ENROLLMENT VALUES
(21, 1006, 5, SYSDATE, 'Y', 75);
INSERT INTO ENROLLMENT VALUES
(22, 1006, 6, SYSDATE, 'Y', 77);
INSERT INTO ENROLLMENT VALUES
(23, 1007, 1, SYSDATE, 'Y', 84);
INSERT INTO ENROLLMENT VALUES
(24, 1007, 2, SYSDATE, 'Y', 85);
INSERT INTO ENROLLMENT VALUES
(25, 1008, 3, SYSDATE, 'Y', 86);
INSERT INTO ENROLLMENT VALUES
(26, 1008, 4, SYSDATE, 'Y', 86);
INSERT INTO ENROLLMENT VALUES
(27, 1008, 5, SYSDATE, 'Y', 84);
INSERT INTO ENROLLMENT VALUES
(28, 1007, 6, SYSDATE, 'Y', 82);

COMMIT;
