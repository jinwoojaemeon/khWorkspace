<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .area{
            background: skyblue;
            border: 1px solid black;
        }

        .small{
            height: 250px;
        }
        .big{
            height: 400px;
        }
        h5{
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>객체</h1>
    <h3>객체 선언 및 사용</h3>
    <p>
        객체는 중괄호 {}을 사용하여 선언하며,<br>
        중괄호 안에 이 객체에 필요한 속성과 값을 정의한다.<br>
        속성명 : 속성값 (key:value) 형태로 정의하며,<br>
        속성값으로는 모든 자료형의 값을 담을 수 있다
    </p>
    <pre>
        변수 = {
            속성명1 : 속성값1,
            속성명2 : 속성값2,
            ...
        }
    </pre>

    <button onclick="test1()">실행</button>
    <div id="area1" class="area"></div>
    <script>
        function test1(){
            const arr = [["Dry Mango", 4000, "pickle", ["mango", "sugar"]]];
            // 0번째 제품명, 1번째 가격, 2번째 종류, 3번째 재료들(배열) 
            // -> 순서 기반으로 작성 시 명확하게 값을 지정할 수 없으며 잘못 사용할 가능성이 높다.
            // js에 배열 -> java의 컬렉션(ArrayList)와 유사
            const product = {
                pName : "Dry Mango",
                price : 4000,
                kind : "pickle",
                ingredients : ["mango", "sugar"],
                toString : function(){
                    return this.pName + " " + this.price + " " + this.kind + " " + this.ingredients;
                }
            }
            // js에 객체 -> 자바의 hashMap과 유사
            console.log(product);
            const area1 = document.getElementById('area1');
            area1.innerHTML = "product : " + product + "<br>";
            // js에서 객체 + 문자열 -> [object Object]이 출력된다 (자동 형변환)
            // 기본적으로 js도 기본적으로 toString() 메서드를 호출한다.
            // 객체의 기본 toString() 메서드는 [object Object]를 반환한다.

            // 객체의 속성에 접근하는 방법
            // 방법1. .를 이용해서 접근하는 방법 : 객체, 속성명
            area1.innerHTML += ("pName : " + product.pName + "<br>");
            area1.innerHTML += ("price : " + product.price + "<br>");
            area1.innerHTML += ("kind : " + product.kind + "<br>");
            area1.innerHTML += ("ingredients : " + product.ingredients + "<br>");

            // 방법2. 대괄호[]를 이용해서 접근하는 방법 : 객체, ['속성명']
            area1.innerHTML += ("pName : " + product['pName'] + "<br>");
            area1.innerHTML += ("price : " + product['price'] + "<br>");   
            area1.innerHTML += ("kind : " + product['kind'] + "<br>");
            area1.innerHTML += ("ingredients : " + product['ingredients'] + "<br>");
        }   
    </script>

    <hr><br><br>
    <h3>객체의 메서드 속성</h3>
    <p>객체의 속성 중 함수자료형인 속성을 메서드라고 부른다.</p>
    <button onclick="test2()">실행</button>
    <div id="area2" class="area small"></div>
    <script>
        function test2(){
            const area2 = document.querySelector('#area2');
            const name = "jaemeon";
            const eat = function(food){
                 console.log(name + "은 " + food + "을 먹는다.");
            }
            eat("바나나킥");

            const jaemeon = {
                name : "jaemeon",
                gender : "남자",
                eat : function(food, screen){
                    console.log(this.name + "은 " + food + "을 먹는다.");
                    screen.innerHTML += (this.name + "은 " + food + "을 먹는다.");
                }
            }

            jaemeon.eat("피자", area2);
        }

    </script>
    <br><br>

    <h3>객체 배열을 사용한 다량의 데이터관리</h3>
    <button onclick="test3();">실행</button>
    <div id="area3" class="area big"></div>
    <script>
        function test3(){
            //학생 리스트  -> 서버로부터 데이터를 받으면 아래와 같이 객체 배열의 데이터를 받는다.
            const stdList = [
                {name:"홍길동", java:75, db:95, front: 80},
                {name:"김철수", java:85, db:65, front: 70},
                {name:"박영희", java:55, db:45, front: 50},
                {name:"최민수", java:95, db:85, front: 90},
                {name:"이영자", java:65, db:75, front: 60},
                {name:"김자바", java:100, db:90, front: 95}
            ]
            // 모든 학생의 이름, 총점, 평균정보를 area3 영역에 나타낸다.
            for(let i=0; i<stdList.length; i++) {
                stdList[i].totalScore = function(){
                return this.java + this.db + this.front;
                }
                stdList[i].avgScore = function(){
                    return (this.totalScore()/3);
                }
            }
            const area3 = document.getElementById('area3');
            area3.innerHTML = "";
            for(let i=0; i<stdList.length; i++) {
                area3.innerHTML += `<div style = "margin-bottom: 8px;">
                                    <h5>이름 : ${stdList[i].name} </h5>
                                    <h5>총점 : ${stdList[i].totalScore()} </h5>
                                    <h5>평균 : ${stdList[i].avgScore()} </h5>
                                </div>`;
            }
        }
    </script>
</body>
</html>