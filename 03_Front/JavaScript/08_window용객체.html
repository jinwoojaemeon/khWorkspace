<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .area{
        width: 500px;
        min-height : 100px;
        border: 1px solid black;
    }
    </style>
</head>
<body>
    <h1>window</h1>
    <p>
        window 객체는 자바스크립트의 최상의 객체. BOM, DOM(document object model)으로 나뉜다.<br>
        - BOM(Brower Object Model) : location(주소관리), screen(화면정보),navigator(브라우저정보) 등<br>
        - DOM(Document Object Model) : document(문서객체)<br>
    </p>
    <h4>[window.]open([url], '특성')</h4>
    <button onclick="test1()">네이버</button>
    <script>
        function test1(){
            //window.open("https://www.naver.com"); // 새창열시
            //window.open(url, 창이름, 옵션)
            //window.open("https://www.naver.com");
            //창이름 : 브라우저 창의 이름을 부여할 수 있다. 이름에 따라서 창은 1번만 생성된다.
            //window.open("https://www.naver.com", "naver");
            //옵션 : 창의 너비, 높이, 주소창여부, 톨바 등 설정 가능
            /**
             * 창의 속성
             * width=너비, height=높이
             * left=왼쪽위치, top=위쪽위치
             * ==> yes | no
             * menubar=yes|no : 메뉴바 여
             * toolbar=yes|no : 도구모음 
             * location=yes|no : 주소창 
             * status=yes|no : 상태표시줄 
             * scrollbars=yes|no : 스크롤바 
             * resizable=yes|no : 창 크기 조절 가능
             */
            let popup = window.open("https://www.naver.com", "naver", "width=500, height=500, resizable=no");
            setTimeout(function(){
                popup.close(); // 코드를 통해서 브라우저창을 닫을 수 있다.
            }, 2000);
        }
    </script>

    <hr>

    <h3>window객체의 timer관련 메서드</h3>
    <h4>window.setTimeout(함수,시간ms)</h4> <!-- 일정시간 후에 함수를 딱 한번만 호출 (비동기)-->
    <button onclick="test2()">실행</button>
    <script>
        function test2(){
            //const myWindow = window.open();
            //myWindow.alert("ㅁㅁㅋㅋㅇㅇㄹㄻㄴㅇㄹ")

            // setTimeout(function(){
            //     myWindow.close();
            // }, 3000);

            console.log("처음로딩 -> 화면이 그려짐");
            console.log("서버에 데이터 요청");
            setTimeout(function(){ // 서버에서 응답이 2초
                console.log("서버로부터 응답이 도착");

                myWindow.close();
            },2000);
            
            console.log("데이터 없이 화면의 틀을 미리 구성");
        }   
    </script>

    <br>

    <h4>window.setInterval(함수, 시간ms)</h4>
    <button onclick="test3()">실행</button>
    <div id="area1" class="area"></div>

    <script>
        function test3(){
            const area = document.querySelector('#area1');
            let count = 0;
            area.innerHTML = `<h3>${count}</h3>`;
            // 1초마다 함수를 실행

            setInterval(function(){
                count++;
                //area1.innerHTML += count + `<h3>${++count}</h3>`;
                area.innerHTML = getNowTimeHHMMSS();
            }, 1000);
        }
        function getNowTimeHHMMSS(){
            const now = new Date();
            let hour = now.getHours();
            let minute = now.getMinutes();
            let second = now.getSeconds();

            const str = `${hour} : ${minute} : ${second}`;
            return str;
        }
    </script>

    <hr>

    <h3>BOM</h3>
    <h3>location</h3>
    <p>브라우저 주소창과 관련된 객체 -> 현재 문서의 주소(URL) 정보를 가져오거나 변경하여 페이지를 이동할 수 있다.</p>
    <button onclick="console.log(location)">실행</button>

    <br>

    <a href="http://naver.com">네이버로 이동</a>
    <button onclick="location.href='http://naver.com'">네이버으로 이동</button>
    <br><br>
    <button onclick="location.assign('http://naver.com')">네이버으로 이동</button>
    <button onclick="location.replace('http://naver.com')">네이버으로 이동</button>
    <!-- replace : 브라우저 히스토리를 저장하지 않는다(뒤로가기x)-->

    <button onclick="location.href=location.href">새로고침</button>
    <button onclick="location.reload()">새로고침</button>

    <br><br><br>

    <h3>screen 객체</h3>
    <button onclick="console.log(screen)">객체확인</button>

    <h3>navigator 객체</h3>
    <button onclick="console.log(navigator)">객체확인</button>

    <h3>history 객체</h3>
    <button onclick="console.log(history.back())">뒤로가기</button>
    <button onclick="console.log(history.forward())">앞으로가기</button>
</body>
</html>